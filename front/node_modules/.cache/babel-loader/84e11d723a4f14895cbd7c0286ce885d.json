{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Cart\",\n\n  data() {\n    return {\n      arr: [],\n      cartItems: [],\n      getId: [],\n      currentcard: ''\n    };\n  },\n\n  computed: {\n    itemList: function () {\n      return this.arr;\n    }\n  },\n  components: {},\n\n  mounted() {\n    this.getCartData(); // console.log(this.cartItems)\n  },\n\n  methods: {\n    getCartData() {\n      if (localStorage.cartItems) {\n        this.cartItems = JSON.parse(localStorage.cartItems);\n\n        for (let i = 0; i < Object.keys(this.cartItems).length; i++) {\n          console.log(\"thiscard\", this.cartItems[i].id);\n          this.getId.push(this.cartItems[i].id);\n        }\n\n        this.$http.get('http://localhost:8000/cartdata' + '/' + this.getId).then(r => this.arr = r.data).catch();\n      }\n    },\n\n    remove(id) {\n      const find = document.getElementById('card-' + id);\n      console.log(find);\n      find.style.display = \"none\";\n    },\n\n    clear() {\n      localStorage.cartItems = \"\";\n      console.log(localStorage.cartItems);\n      this.$router.push({\n        name: 'admin',\n        params: {\n          USER: localStorage.userid\n        }\n      });\n      alert(\"訂單已送出！\"); // this.$route.params.USER\n    }\n\n  }\n};","map":{"version":3,"mappings":";AA4BA,eAAe;EACbA,IAAI,EAAE,MADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,GAAG,EAAE,EADA;MAELC,SAAS,EAAE,EAFN;MAGLC,KAAK,EAAE,EAHF;MAILC,WAAW,EAAC;IAJP,CAAP;EAMD,CATY;;EAUbC,QAAQ,EAAE;IACRC,QAAQ,EAAE,YAAY;MACpB,OAAO,KAAKL,GAAZ;IACF;EAHQ,CAVG;EAebM,UAAU,EAAE,EAfC;;EAkBbC,OAAO,GAAE;IACP,KAAKC,WAAL,GADO,CAGP;EACD,CAtBY;;EAuBbC,OAAO,EAAE;IACPD,WAAW,GAAE;MACX,IAAGE,YAAY,CAACT,SAAhB,EAA0B;QACxB,KAAKA,SAAL,GAAiBU,IAAI,CAACC,KAAL,CAAWF,YAAY,CAACT,SAAxB,CAAjB;;QACA,KAAI,IAAIY,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACC,MAAM,CAACC,IAAP,CAAY,KAAKd,SAAjB,EAA4Be,MAA1C,EAAiDH,CAAC,EAAlD,EAAqD;UACnDI,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuB,KAAKjB,SAAL,CAAeY,CAAf,EAAkBM,EAAzC;UACA,KAAKjB,KAAL,CAAWkB,IAAX,CAAgB,KAAKnB,SAAL,CAAeY,CAAf,EAAkBM,EAAlC;QACF;;QACA,KAAKE,KAAL,CAAWC,GAAX,CAAe,mCAAiC,GAAjC,GAAsC,KAAKpB,KAA1D,EACGqB,IADH,CACSC,KAAK,KAAKxB,GAAL,GAAWwB,CAAC,CAACzB,IAD3B,EAEG0B,KAFH;MAGF;IACD,CAZM;;IAaPC,MAAM,CAACP,EAAD,EAAI;MACR,MAAMQ,IAAG,GAAIC,QAAQ,CAACC,cAAT,CAAwB,UAAUV,EAAlC,CAAb;MACAF,OAAO,CAACC,GAAR,CAAYS,IAAZ;MACAA,IAAI,CAACG,KAAL,CAAWC,OAAX,GAAqB,MAArB;IACD,CAjBM;;IAkBPC,KAAK,GAAE;MACLtB,YAAY,CAACT,SAAb,GAAyB,EAAzB;MACAgB,OAAO,CAACC,GAAR,CAAYR,YAAY,CAACT,SAAzB;MACA,KAAKgC,OAAL,CAAab,IAAb,CAAkB;QAACtB,IAAI,EAAC,OAAN;QAAeoC,MAAM,EAAE;UAAEC,IAAI,EAACzB,YAAY,CAAC0B;QAApB;MAAvB,CAAlB;MACAC,KAAK,CAAC,QAAD,CAAL,CAJK,CAKL;IACF;;EAxBO;AAvBI,CAAf","names":["name","data","arr","cartItems","getId","currentcard","computed","itemList","components","mounted","getCartData","methods","localStorage","JSON","parse","i","Object","keys","length","console","log","id","push","$http","get","then","r","catch","remove","find","document","getElementById","style","display","clear","$router","params","USER","userid","alert"],"sourceRoot":"","sources":["/Users/chengyu/Downloads/dbhw-main/front/src/page/Cart.vue"],"sourcesContent":["<template>\n\n<div class=\"container\">\n  <div class=\"card text-white bg-dark mb-3\">\n    <!-- 範例卡片 -->\n    <div class=\"row g-0\" style=\"border:10px\" v-for=\"(item,index) in itemList\" :key=\"item.id\" :id=\"'card-' + item.id\">\n      <div class=\"col-md-4\">\n        <img :src=\"'https://' + item.img_url\" class=\"card-img-top\" alt=\"瑪利歐派對 超級巨星\"/>\n      </div>\n      <div class=\"col-md-8\" >\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ item.name }}</h5>\n          <a class=\"id\" style=\"display: none\">{{ item.id }}</a>\n          <p class=\"card-text\">{{ item.detail }}</p>\n          <p>訂購數量：{{cartItems[index].hitTimes}}</p>\n          <button @click=\"remove(item.id)\" class=\"btn btn-primary me-md-2 btn-danger\">移除此商品</button>\n\n        </div>\n      </div>\n    </div>\n    <router-link @click=\"clear()\" to=\"/\"  class=\"btn btn-primary me-md-2 btn-primary\">送出訂單</router-link>\n\n  </div>\n</div>\n</template>\n\n<script>\n\nexport default {\n  name: \"Cart\",\n  data() {\n    return {\n      arr: [],\n      cartItems: [],\n      getId: [],\n      currentcard:'',\n    }\n  },\n  computed: {\n    itemList: function () {\n      return this.arr\n    }\n  },\n  components: {\n\n  },\n  mounted(){\n    this.getCartData()\n\n    // console.log(this.cartItems)\n  },\n  methods: {\n    getCartData(){\n      if(localStorage.cartItems){\n        this.cartItems = JSON.parse(localStorage.cartItems)\n        for(let i=0;i<Object.keys(this.cartItems).length;i++){\n          console.log(\"thiscard\",this.cartItems[i].id)\n          this.getId.push(this.cartItems[i].id)\n        }\n        this.$http.get('http://localhost:8000/cartdata'+'/'+ this.getId)\n          .then( r => this.arr = r.data)\n          .catch()\n      }\n    },\n    remove(id){\n      const find = document.getElementById('card-' + id)\n      console.log(find)\n      find.style.display = \"none\"\n    },\n    clear(){\n      localStorage.cartItems = \"\";\n      console.log(localStorage.cartItems)\n      this.$router.push({name:'admin', params: { USER:localStorage.userid }})\n      alert(\"訂單已送出！\")\n      // this.$route.params.USER\n    }\n  },\n\n}\n</script>\n\n<style scoped>\n.card{overflow:hidden;}\n.card img{transform:scale(1,1);transition: all 0.5s ease-out;}\n.card img:hover{transform:scale(1.1,1.1);}\n</style>"]},"metadata":{},"sourceType":"module"}